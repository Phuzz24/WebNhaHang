<html>
<head>
    <title>Trang chủ</title>
    <link href="/css/main.css" rel="stylesheet" />
    <link href="~/font/fontawesome-free-6.6.0-web/css/all.css" rel="stylesheet" />
    <script src="/js/main.js"></script>
</head>
<body>
    <div class="header">
        <div class="logo">
            <img src="/HinhAnh/logo.png" href="" />
        </div>
        <div class="text">
            <a href="">TRANG CHỦ</a>
            <a href="">MENU</a>
            <a href="">ĐẶT BÀN</a>
            <a href="">GIỚI THIỆU</a>
            <!-- Kiểm tra trạng thái đăng nhập từ Session -->
            @if (Context.Session.GetString("Username") != null)
            {
                <div class="dropdown">
                    <a href="#" class="dropdown-toggle" id="userDropdown">
                        <i class="fa-solid fa-user"></i> @Context.Session.GetString("Username")
                    </a>
                    <div class="dropdown-menu" aria-labelledby="userDropdown">
                        <a class="dropdown-item" href="/Account/EditInfo">Xem thông tin cá nhân</a>
                        <a class="dropdown-item" href="/Account/ChangePassword">Đổi mật khẩu</a>
                        <a class="dropdown-item" href="/Account/Logout">Đăng xuất</a>
                    </div>
                </div>
            }
            else
            {
                <a href="/Account/Login">
                    <i class="fa-solid fa-user"></i>
                    Đăng nhập
                </a>
            }
        </div>
        <div class="iconz">
            <i class="fa-solid fa-magnifying-glass"></i>
            <i class="fa-solid fa-cart-shopping"></i>
        </div>
    </div>

    <div class="slider-content">
        <div class="slider">
            <!-- Slide 1 -->
            <div class="image-slide active">
                <img src="~/HinhAnh/food1.jpg" alt="Banner 1">
            </div>
            <!-- Slide 2 -->
            <div class="image-slide">
                <img src="~/HinhAnh/food2.jpg" alt="Banner 2">
            </div>
            <!-- Slide 3 -->
            <div class="image-slide">
                <img src="~/HinhAnh/food3.jpg" alt="Banner 3">
            </div>
            <div class="image-slide">
                <img src="~/HinhAnh/food4.jpg" alt="Banner 4">
            </div>
        </div>

        <!-- Nút điều hướng -->
        <button class="prev" onclick="moveImageSlide(-1)">&#10094;</button>
        <button class="next" onclick="moveImageSlide(1)">&#10095;</button>
    </div>

    <div class="category">
        <div class="product-grid">
            <div class="product-item">
                <img src="/HinhAnh/monchinh.jpg" alt="">
                <p>Món chính</p>
            </div>
            <div class="product-item">
                <img src="/HinhAnh/chay.png" alt="">
                <p>Món chay</p>
            </div>
            <div class="product-item">
                <img src="/HinhAnh/trangmieng.jpg" alt="">
                <p>Tráng miệng</p>
            </div>
            <div class="product-item">
                <img src="/HinhAnh/khaivi.jpg" alt="">
                <p>Khai vị</p>
            </div>
        </div>
    </div>
    @model List<WebNhaHang.Models.MenuBrandViewModel>

    @foreach (var brand in Model)
    {
        <div class="product-section">
            <h2 class="section-title">@brand.BrandName</h2>
            <div class="carousel-container">
                <button class="prev-btn">❮</button>
                <div class="product-list-wrapper">
                    <div class="product-list">
                        @foreach (var menu in brand.Menus)
                        {
                            <div class="menu-item">
                                <div class="product-img">
                                    <img src="@(menu.DishImage ?? "/images/default-image.png")" alt="@(menu.DishName ?? "Tên món ăn không có")" />
                                </div>
                                <div class="product-info">
                                    <span class="new-badge">Mới</span>
                                    <h3>@(menu.DishName ?? "Tên món ăn không có")</h3>
                                    <p class="price">@menu.Price.ToString("N0") đ</p>
                                    @if (menu.Quantity == 0)
                                    {
                                        <p class="status">Tạm hết hàng</p>
                                    }
                                    else
                                    {
                                        <p class="status">Còn hàng</p>
                                    }
                                    <div class="product-buttons">
                                        <a href="@Url.Action("ChiTietSanPham", "Home", new { id = menu.Dish_ID })" class="btn btn-primary">Xem chi tiết</a>
                                        <form asp-action="AddToCart" asp-controller="Cart" method="post">
                                            <input type="hidden" name="productId" value="@menu.Dish_ID" />
                                            <button type="submit" class="btn btn-success">Thêm vào giỏ</button>
                                        </form>
                                    </div> <!-- Đóng div product-buttons -->
                                </div> <!-- Đóng div product-info -->
                            </div> <!-- Đóng div menu-item -->
                        }


                    </div>
                </div>
                <button class="next-btn">❯</button>
            </div>
        </div>
    }

    <div class="contact">
        <div class="contact-left">
            <img src="~/HinhAnh/logo.png" />
            <h1>©Copyright 2024 KHAKHAU. All Rights Reserved</h1>
        </div>
        <div class="contact-right">
            <h1>CONTACT</h1>
            <h1>Street: D2 street, Ward 25, Binh Thanh District</h1>
            <h1>City: Ho Chi Minh</h1>
            <h1>State/Province/Area: Ho Chi Minh City</h1>
            <h1>Phone number:  (84-8) 3 512 6379/(84-8) 3 804 0955/(84-8) 3 804 0980</h1>
            <h1>Email: abcd@email.com</h1>
        </div>
    </div>

</body>
</html>

